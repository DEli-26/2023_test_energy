# Тестовое в энергетическую компанию

Настоящее тестовое включало в себя 2 задачи.
    
***

## Задача №1. SQL

### Цель

Требуется написать и отправить код, в котором будет выполнено:
    1. Подключение к базе данных.
    2. Запрос SQL для загрузки данных за январь 2021 г (необходимо отфильтровать данные, а также сгруппировать выработку, чтобы получить среднюю и суммарную посуточно).
    3. Обработка данных.

## Задача №2. Прогноз среднесуточных цен

### Цель

Необходимо, используя данные из выданных файлов, сделать прогноз среднесуточных цен на электроэнергию по ЦЗ «Европа» на месяц вперед (30 суток).

### Выводы

В результате работы загружены и исследованы данные о стоимости электроэнергии в Европейском регионе России.

Анализ данных показал, что изменение стоимости является стационарным процессом и не зависит в явном виде от времени.
Большинство вторичных признаков так же обладают стационарностью.
Однако признаки ТЭС (план, мин, макс), планов СЭС, ВЭС, ценопринимающего предложения, ценопринимания сверх минимальной мощности, потребления и импорта являются нестационарными и имеют структуру.
Последняя проявляется в виде изменьчивости тренда.

Перед моделированием нестационарность признаков нивелирована путем дифференцирования их значений.
Само моделирвоание проведено с использованием градиентного бустинга (Catboost) и линейной регрессии с регуляризацией (Ridge).
Гиперпараметры моделей оптимизированы при помощи библиотеки Optuna.
В качестве отправной точки моделирования (baseline) использовано среднее значение цены на обучающей выборке.
Качество моделей оценивалось вычислением корня из среднеквадратической ошибке (RMSE)

В результате подбора гиперпараметров получены следующие значения  
$ RMSE_{baseline} = 74.3 $ $ руб/(МВт\cdotч); $
$ RMSE_{catboost} = 31.9$ $ руб/(МВт\cdotч); $
$ RMSE_{ridge} = 32.4$ $ руб/(МВт\cdotч); $

На фоне среднего значения цены электроэнергии около 1200, полученные значения представляются допустимыми.
Стоит отметить, что метрика Ridge регрессии получено при отключенной регуляризации, что, в силу наличия мультиколлинеарности в данных, делает решение неустойчивым к дальнейшим изменениям.

В качестве наиболее подходящей модели машинного обучения для решения поставленной задачи выбран Сatboost.
На тестовой подвыборке получено значение 
$ RMSE_{test} = 44.2$ $ руб/(МВт\cdotч). $